# –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å "–ö–æ—Ä–∑–∏–Ω–∞" - –°–≤–æ–¥–∫–∞

## ‚úÖ –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `main.py` - –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ —Å FastAPI
- `run_app.py` - –°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
- `demo.py` - –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç
- `test_cart.py` - –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
- `README.md` - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `examples.md` - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:

1. **API —ç–Ω–¥–ø–æ–∏–Ω—Ç**: `POST /api/v1/cart/calculate`
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ (ID –∞—É–¥–∏–æ–∫–Ω–∏–≥–∏ + –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–≤–∞—Ä–∞—Ö –∏ –æ–±—â—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å

2. **–ú–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ**:
   - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—É "–ö–∞—Ç–∞–ª–æ–≥" (`http://localhost:8000/api/v1/audiobooks/{audiobook_id}`)
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `httpx` –¥–ª—è HTTP –∫–ª–∏–µ–Ω—Ç–∞
   - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**:
   - –¢–æ–≤–∞—Ä—ã —Å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ ID (–æ—à–∏–±–∫–∞ 404) –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫ –∏ —Ç–∞–π–º–∞—É—Ç–æ–≤
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

4. **DTO –º–æ–¥–µ–ª–∏**:
   - `CartItemInput` - –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (ID + –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)
   - `CartItemOutput` - –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–≤–∞—Ä–µ)
   - `CartCalculationRequest` - –∑–∞–ø—Ä–æ—Å –Ω–∞ —Ä–∞—Å—á–µ—Ç –∫–æ—Ä–∑–∏–Ω—ã
   - `CartCalculationResponse` - –æ—Ç–≤–µ—Ç —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —Ä–∞—Å—á–µ—Ç–∞

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

```bash
# 1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å "–ö–∞—Ç–∞–ª–æ–≥" –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8000
cd services/catalog
python main.py

# 2. –í –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å "–ö–æ—Ä–∑–∏–Ω–∞"
cd services/cart
python run_app.py

# 3. –°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:8001
```

## üìã –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```bash
# –†–∞—Å—á–µ—Ç –∫–æ—Ä–∑–∏–Ω—ã
curl -X POST "http://localhost:8001/api/v1/cart/calculate" \
  -H "Content-Type: application/json" \
  -d '{
    "items": [
      {"audiobook_id": 1, "quantity": 2},
      {"audiobook_id": 2, "quantity": 1}
    ]
  }'
```

## üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å**: –í—Å–µ HTTP –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å**: –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–æ–≤–∞—Ä—ã –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –¢–∞–π–º–∞—É—Ç 10 —Å–µ–∫—É–Ω–¥ –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å Pydantic
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

## üìä –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã
python demo.py

# –ü—Ä–æ—Å—Ç–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
python test_cart.py
```

## üîó –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- FastAPI (–≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫)
- Pydantic (–≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö)
- httpx (HTTP –∫–ª–∏–µ–Ω—Ç)
- uvicorn (ASGI —Å–µ—Ä–≤–µ—Ä)

–í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É–∂–µ –≤–∫–ª—é—á–µ–Ω—ã –≤ `requirements.txt` –ø—Ä–æ–µ–∫—Ç–∞. 